{% extends "base.html.twig" %}

{% block title %}Connecte toi
{% endblock %}


{% block body %}
	<div class="min-h-screen flex  items-center justify-center bg-linear-to-br from-gray-50 to-gray-100 py-12 px-4 sm:px-6 lg:px-8">

		<div class="container-form space-y-8">

			<div class="text-center">
				<a class="inline-block mb-8 group" href="{{path('app_home') }}">
					<img class="h-16 mx-auto transition-transform duration-200 group-hover:scale-105" src="/images/logo.png" alt="CreativeHub">
				</a>
				<h1 class="text-3xl text-gray-900 mb-2">
					{{ "Connexion"|upper}}
				</h1>
				<p class="text-sm text-gray-600 ">
					Pas encore de compte ?
					<a href="{{path('app_register') }}" class="font-medium transition-colors text-primary hover:text-primary-hover ">Inscris-toi</a>
				</p>
			</div>

			<!-- Formulaire de connexion -->
		<div class="card p-8">
			<form method="post" class="space-y-6">
				{% if error %}
					<div class="alert-error">
						<div class="flex">
							<div class="shrink-0">
								<svg class="icon text-red-500" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewbox="0 0 24 24"><path fill="currentColor" d="M19.1 4.9C15.2 1 8.8 1 4.9 4.9S1 15.2 4.9 19.1s10.2 3.9 14.1 0s4-10.3.1-14.2m-4.3 11.3L12 13.4l-2.8 2.8l-1.4-1.4l2.8-2.8l-2.8-2.8l1.4-1.4l2.8 2.8l2.8-2.8l1.4 1.4l-2.8 2.8l2.8 2.8z"/>
								</svg>
							</div>
							<div class="ml-3">
								<p class="text-sm text-red-700">{{ error.messageKey|trans(error.messageData, 'security') }}

								</p>
							</div>
						</div>

					</div>
				{% endif %}

				{% if app.user %}
					<div class="alert-info">
						<div class="flex">
							<div class="ml-3">
								<p class="text-sm text-blue-700">
									Vous etes connecté en tant que
									<strong>{{ app.user.pseudo }}</strong>
									<a class="text-blue-600 hover:text-blue-500 ml-2" href="{{ path('app_logout') }}">Déconnexion</a>
								</p>
							</div>
						</div>
					</div>
				{% endif %}

				<input
				type="hidden" name="_csrf_token" value="{{ csrf_token('authenticate') }}">

				<!-- Email -->
				<div>
					<label for="username" class="form-label">Email</label>
					<input type="email" name="_username" id="username" class="form-input" placeholder="votre@email.com" value="{{ last_username }}" autocomplete="email" required autofocus>

				</div>

				<!-- password -->
				<div>
					<label for="password" class="form-label">Mot de passe</label>
					<input type="password" name="_password" id="password" class="form-input" placeholder="••••••••" autocomplete="current-password" required>

				</div>

				<!-- bouton submit  -->
				<div>
					
					<button type="submit" class="btn-primary-lg w-full"> Se connecter </button>
				
				</div>


			</form>
		</div>

		</div>
		
	</div>


{% endblock %}
